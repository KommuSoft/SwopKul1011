\section{Testing approach}
Before we did our refactorings, we made a lot of tests. In the previous iterations we had class tests and global tests. In this iteration we added a new type of test, namely a scenario test. A class test is a test that is made to test the methods of a specific class. A scenario test is used to test the whole domain and its controllers. In the previous iterations we tried something like a scenario test but it uses the domain directly. We also did deeper testing because some lines were not fully covered. The reason was that some borderline cases were not covered. We used our test suite \footnote{We use the word test suite not in the context of JUnit. If we use a JUnit test suite we can't test exceptions.} to test before the refactorings and after the refactorings. This way it was easy to find if we broke something in a refactoring.

\paragraph{Coverage}
By extending the tests the coverage of the project grew. With the standard coverage tool of \textit{NetBeans}: \textit{EMMA} we could determine that 80\% of the lines of the project were covered. Only 3 classes were not covered\footnote{less than 50\% of the lines covered}. When we took a closer look at these classes, the uncovered lines were trivial methods or constructors that for example only called the parent constructor or returned the value of a field.
\paragraph{Covering pseudo covered lines}Another thing we noticed was that sometimes lines who were marked as covered, were not at all. For instance calling a method that needs to concatenate two arrays succeeded the coverage test. But when we commented that line, the test still succeeded!\footnote{The reason was that in all the testcases at least one of the two arrays was empty.} We used commenting and uncommenting as a tool to see what lines were really covered. Tests were added to make sure important parts of the code were truly covered, and not only ``pseudo covered''. Perhaps this way of testing lines far more deep could be automated to do deep testing. If all tests still pass if a line is removed this could be a signal to the developer that something is wrong with its test cases.
